<div id="announcement<%= announcement.id %>">
  <div class="card white">
    <div class="card-content">
      <% if announcement.image.present? %>
        <div class="row">
          <div class="col s12 m6 l6">
            <%= image_tag announcement.image.url , style:'width:100%' , class:"materialboxed" %>
          </div>
          <div class="col s12 m6 l6">
            <h3 class="title"><%= announcement.title %></h3>
            <p class="date">Posted at <%= announcement.created_at.to_s(:long) %></p><hr>
            <p class="body" style="text-align: justify;"><%= truncate(announcement.body, length: 200) %>
              <a href="#modalA<%= announcement.id %>" class="modal-trigger">read more</a></p>

            <div id="modalA<%= announcement.id %>" class="modal">
              <div class="modal-content">
                <div class="card">
                  <div class="card-content">
                    <div class="row">
                      <div class="col s12 m6 l6">
                        <%= image_tag announcement.image.url , style:'width:100%' , class:"materialboxed" %>
                      </div>
                      <div class="col s12 m6 l6">
                        <h3 class="title"><%= announcement.title %></h3>
                        <% if announcement.date.blank? %>
                        <% else %>
                          <h4 class="title">When: <%= announcement.date.to_s(:long) %></h4>
                        <% end %>
                        <p class="date">Posted at <%= announcement.created_at.to_s(:long) %></p><hr>
                        <p class="body" style="text-align: justify;"><%= announcement.body %></p>
                      </div>
                    </div> 
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <a class="modal-action modal-close waves-effect waves-yellow red btn">close</a>
              </div>
            </div>
          </div>
        </div>
      <% else %>
        <div class="row">
          <div class="col s12">
            <h3 class="title"><%= announcement.title %></h3>
            <p class="date">Posted at <%= announcement.created_at.to_s(:long) %></p><hr>
            <p class="body"><%= truncate(announcement.body, length: 200) %>
              <a href="#modalA<%= announcement.id %>" class="modal-trigger">read more</a></p>

              <div id="modalA<%= announcement.id %>" class="modal">
                <div class="modal-content">
                  <div class="card">
                    <div class="card-content">
                      <h3 class="title"><%= announcement.title %></h3>
                      <% if announcement.date.blank? %>
                      <% else %>
                        <h4 class="title">When: <%= announcement.date.to_s(:long) %></h4>
                      <% end %>
                      <p class="date">Posted at <%= announcement.created_at.to_s(:long) %></p><hr>
                      <p class="body" style="text-align: justify;"><%= announcement.body %></p>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <a class="modal-action modal-close waves-effect waves-yellow red btn">close</a>
                </div>
              </div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="card-action">
      <div class="options">
        <%= link_to edit_announcement_path(announcement) , class:"btn waves-effect waves-blue green" do %>
          <i class="material-icons">create</i>
        <% end %>
        <%= link_to announcement_path(announcement) , class:"btn waves-effect waves-yellow red" , method: :delete , data: { confirm: "Are you sure?" } , remote: true do %>
          <i class="material-icons">delete</i>
        <% end %>
      </div>
    </div>
  </div>
</div>


<style type="text/css">
.modal.open{
  width: 100%;
  max-height: 100%;
  height: 100%;
  top: 0 !important;
}
.modal-content {
  height: calc(100% - 56px);
}  
</style>