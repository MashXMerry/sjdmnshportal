<%= javascript_include_tag 'style' %>
<div class="row" style="background-color: #e8e8e8">
  <div class="">
    <nav class="orange darken-4">
      <div class="nav-wrapper">
        <a class="brand-logo right" style="padding-right: 20px">Dashboard</a>
        <a href="#" data-activates="slide-out" class="button-collapse">
          <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
        </a>
      </div>
    </nav>

    <% if current_administrator.role == "admin" %>
      <div class="row" style="margin-top: 50px">
        <div class="col s12 m12 l9 right">
          <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Register new account</a>
          <hr>
          <%= notice %>
        </div>
      </div>

      <div id="modal1" class="modal modal-fixed-footer">
        <div class="modal-content">
          <h4><center>Register new account</center></h4>
            <%= form_for :administrator , url:add_admin_path do |f| %>
              <div class="row">
                <div class="col s12 input-field">
                  <i class="material-icons prefix">face</i>
                  <label for="firtname">Firstname</label>
                  <%= f.text_field :firstname %>
                </div>
                <div class="col s12 input-field">
                  <i class="material-icons prefix">face</i>
                  <label for="firtname">Middlename</label>
                  <%= f.text_field :middlename %>
                </div>
                <div class="col s12 input-field">
                  <i class="material-icons prefix">face</i>
                  <label for="lastname">Lastname</label>
                  <%= f.text_field :lastname %>
                </div>
                <div class="col s12 input-field">
                  <i class="material-icons prefix">email</i>
                  <label for="email">Email</label>
                  <%= f.email_field :email %>
                </div>
                <div class="col s12 ">
                  <div class="input-field">
                  <i class="material-icons prefix">lock</i>
                    <%= f.select :role , 
                    options_for_select([["--ROLE--"], "admin" , "faculty"]) , id:"level" %>
                  </div>  
                </div>
                <div class="col s12 input-field">
                  <i class="material-icons prefix">lock</i>
                  <label for="password">Password</label>
                  <%= f.password_field :password %>
                </div>
              </div>
            </div>
          <div class="modal-footer">
            <a class="modal-action modal-close waves-effect waves-red btn-flat red white-text">Cancel</a>
            <%= f.submit "Register" , class:"btn green" %> 
          </div>
        <% end %>
      </div>
    <% else %>
      <!-- some codes here -->
    <% end %>

    <div class="row">
      <div class="col s12 m12 l9 right">
      <h4 class="green-text">Registered Accounts </h4><hr>
        <% @admins.each do |admin| %>
          <div class="row" style="padding-top: 20px">
            <div class="col s12">
              <div class="card-panel grey lighten-5 z-depth-1">
                <div class="row">
                  <div class="col s12 m2 l2 center">
                    <% if admin.image_file_name.present? %>
                      <%= image_tag admin.image.url , class:"circle materialboxed" , style:"height:100px" %>
                    <% else %>
                      <%= image_tag "avatar.jpg" , class:"circle materialboxed" , style:"height:100px" %>
                    <% end %>
                  </div>

                  <div class="col s12 m10 l10">
                    <% if admin.middlename.blank? %>
                      <p>
                        <b class="name">
                          <%= admin.firstname + ' ' + admin.lastname %> ( <%= admin.role %> )</b><br>
                        <%= admin.email %> 
                      </p>
                    <% else %>
                      <p>
                        <b class="name">
                          <%= admin.firstname + " " + admin.middlename + " " + admin.lastname %> ( <%= admin.role %> )</b><br>
                        <%= admin.email %> 
                      </p>
                    <% end %>
                  </div>
                </div>
              </div>
            </div><!-- row -->
          </div><hr>
        <% end %>
      </div>
    </div>
	</div><!-- row -->

</div>

<div class="col s12 ">
    <%= render 'partials/sidebar' %>
</div>

<style type="text/css">
  .name {
    font-size: 30px;
  }
  .modal {
    width: 50%!important;
  }
</style>
  


